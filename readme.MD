# MapLibre GraphHopper Routing

Eine interaktive Web-Anwendung fÃ¼r Routenplanung mit GraphHopper-Integration, HÃ¶henprofil-Visualisierung und Kontext-Layern fÃ¼r Radinfrastruktur und Mapillary-Abdeckung.

---

## Features

### ğŸ—ºï¸ Routing
- **Multi-Profile Routing**: UnterstÃ¼tzung fÃ¼r verschiedene Verkehrsmittel (Auto, Fahrrad, etc.)
- **Interaktive Routenplanung**: Start- und Endpunkt per Klick oder Geocoding setzen
- **Route-Visualisierung**: Farbcodierte Darstellung basierend auf verschiedenen Attributen:
  - Mapillary Coverage (Abdeckung mit Street View Fotos)
  - Surface (OberflÃ¤chenbeschaffenheit)
  - Road Class (StraÃŸenklasse)
- **HÃ¶henprofil**: Interaktives HÃ¶henprofil mit Hover-FunktionalitÃ¤t
- **GPX-Export**: Export berechneter Routen als GPX-Datei

### ğŸ“Š HÃ¶henprofil
- **Interaktive Visualisierung**: Canvas-basierte Darstellung des HÃ¶henprofils
- **Encoded Values Overlay**: Darstellung verschiedener Route-Attribute im HÃ¶henprofil
- **Hover-Integration**: Synchronisierte Hover-Indikatoren zwischen Karte und HÃ¶henprofil
- **Responsive Design**: Automatische Anpassung an Container-Breite

### ğŸš´ Kontext-Layer
- **Radinfrastruktur**: Visualisierung von Radwegen und Radinfrastruktur aus OpenStreetMap
- **Mapillary Missing Streets**: Anzeige von StraÃŸen mit fehlenden oder ausreichenden Mapillary-Fotos
- **Toggle-FunktionalitÃ¤t**: Ein-/Ausschalten der Layer Ã¼ber Checkboxen

### ğŸ”— Permalink
- **VollstÃ¤ndige State-Speicherung**: Alle Einstellungen werden in der URL gespeichert:
  - Kartenposition und Zoom
  - Start- und Endpunkt
  - Routing-Profil
  - Encoded Value Auswahl
  - Aktivierte Kontext-Layer
- **Teilbare URLs**: Einfaches Teilen von Routen und Konfigurationen

---

## Technische Details

### Framework & Bibliotheken
- **MapLibre GL JS** (v5.6.0): Kartenvisualisierung
- **GraphHopper Routing API**: Routenberechnung
- **Photon Geocoder**: Adresssuche und Geocoding


### Datenquellen
- **GraphHopper API**: Routenberechnung und Elevation-Daten
- **OpenStreetMap**: Basiskartendaten
- **FixMyCity** / **tilda-geo.de**: Vektortiles fÃ¼r Radinfrastruktur
- **OSM Verkehrswende**: Mapillary Missing Streets Daten
- **MapTiler** (optional): Hillshade und Terrain-Daten
- **Sonny's Terrain Models**: HÃ¶henmodelle fÃ¼r Elevation-Daten (CC BY 4.0) - [sonny.4lima.de](https://sonny.4lima.de)

---



## Projektstruktur

```
maplibre_routing/
â”œâ”€â”€ index.html              # Haupt-HTML-Datei
â”œâ”€â”€ main.js                 # Haupt-Initialisierung
â”œâ”€â”€ style.css               # Stylesheet
â”œâ”€â”€ style.json              # MapLibre Style-Konfiguration
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ routing/            # Routing-Module
â”‚   â”‚   â”œâ”€â”€ routing.js      # Haupt-Routing-Logik
â”‚   â”‚   â”œâ”€â”€ routingUI.js   # UI-Handler
â”‚   â”‚   â”œâ”€â”€ routeState.js   # State Management
â”‚   â”‚   â”œâ”€â”€ routeVisualization.js  # Route-Farben & Hover
â”‚   â”‚   â”œâ”€â”€ heightgraph.js  # HÃ¶henprofil-Visualisierung
â”‚   â”‚   â”œâ”€â”€ colorSchemes.js # Farb-Schemas
â”‚   â”‚   â””â”€â”€ gpxExport.js    # GPX-Export
â”‚   â”œâ”€â”€ ui/                 # UI-Komponenten
â”‚   â””â”€â”€ utils/              # Utilities
â”‚       â”œâ”€â”€ permalink.js    # Permalink-FunktionalitÃ¤t
â”‚       â””â”€â”€ geocoder.js    # Geocoding
â””â”€â”€ thumbs/                 # Thumbnails fÃ¼r Basemaps
```

---


## Lizenz

[Lizenz hier angeben]

---

## Credits

- **MapLibre GL JS**: Open-Source Kartenbibliothek
- **GraphHopper**: Open-Source Routing-Engine
- **OpenStreetMap**: Community-getriebene Kartendaten
- **Mapillary**: Street View Fotos und Coverage-Daten
- **FixMyCity** / **tilda-geo.de**: Vektortiles fÃ¼r Radinfrastruktur - [tilda-geo.de](https://tilda-geo.de)
- **OSM Verkehrswende**: Mapillary Missing Streets Daten - [osm-verkehrswende.org](https://www.osm-verkehrswende.org)
- **Sonny's Terrain Models**: HÃ¶henmodelle (CC BY 4.0) - [sonny.4lima.de](https://sonny.4lima.de)


